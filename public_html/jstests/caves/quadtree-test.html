<!DOCTYPE HTML>
<html>
<head>
  <title>QuadTree test</title>
  <script src="../../js/strings.js"></script>
  <script src="../../js/testing.js"></script>
  <script src="../../js/bits/base64.js"></script>
  <script src="../../js/bits/bitqueue.js"></script>
  <script src="../../js/vec2d.js"></script>
  <script src="../../js/caves/painter.js"></script>
  <script src="../../js/caves/circlepainter.js"></script>
  <script src="../../js/caves/quadtree.js"></script>
  <script>
    addTest(function serializeDeserializeSomething() {
      var quad1 = new QuadTree(1, 2, 200, 8);
      quad1.paint(new CirclePainter(-10, -15, 63, 100));
      quad1.paint(new CirclePainter(22, 26, 50, 200));
      var json1 = quad1.toJSON();

      var quad2 = QuadTree.fromJSON(json1);
      var json2 = quad2.toJSON();
      assertStringifyEquals(json1, json2);
      console.log(JSON.stringify(json1));
    });

    addTest(function serializeDeserializeNothing() {
      var quad1 = new QuadTree(1, 2, 200, 8);
      var json1 = quad1.toJSON();

      var quad2 = QuadTree.fromJSON(json1);
      var json2 = quad2.toJSON();
      assertStringifyEquals(json1, json2);
      console.log(JSON.stringify(json1));
    });
  </script>
</head>
<body onload="runTests()"></body>
</html>
