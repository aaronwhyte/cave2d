DONE 2018-11-19
make nest for game 6
v copy game5 to game6
v rename stuff
v playable again
v an adventure

DONE 2018-11-19
Misc fixes and stuff
v Fix JsonStorage?
  Not sure what's going on there but the test fails, and getting mutates return values, so that's not good.
v replace & delete ObjSet
v replace & delete ArraySet
v replace & delete my Map class

DONE 2018-11-20
Let a player play entirely with the mouse, to (eventually) free up the keyboard for more players.
v add mouse right/left buttons to pointerlocked controller. Except Safari where right-click is unblockable?
v fix MouseButtonTrigger button detection when both buttons are held.
v remove right-click context menu on the canvas on Safari

intro page
* Is a ScreenPage, so it needs a level path to a level in the file system
* Will include Printer-based text thingy hovering in the screen
* World will come from editor, unless/until I get procgen working
* whole screen is also listener to determine what input device is default for plr.
v nest class
v custom-made world runs in the bg
v print game title
v print "PRESS TO BEGIN"

space and planetoid
v invert wall and void
  v world loader
  v editor
  v mine painting
  v bullet painting
  v new intro level

convert player from game6
v remove shield
v use thrust while flying, no (or very little) traction
v remove tractor beam

prototype player controls & transformation
v button to switch modes for now
- driving
  - sticks to wall
    - at least two rayscans determine dists to wall
    - apply force at point based on dist to wall.
  - movement along wall is fast and traction-y, not very floaty
  - no movement that is not along wall?
  - ram stuff that you hit frontally. "ram" is a distinct action that enemies have different reactions to.
  - button-down immediately jumps off of wall.
    - Maybe short ramming phase too?
    - Use hold/release for something?
      - continued ram?
      - continued wall-grab aim for wall-to-wall jumps?
      - fast accel?
- flying
  - hold button down to charge & aim weap (and small fire?) (no power for thrust tho)
  - indicator shows where fire will go
  - indicator also shows if release into point-blank wall will trigger transformation to driving mode
- motion streaks like nobody's business, like game4

Some enemies
- ones you can shoot or ram
- ones you must ram
- ones that you ram into the air and then shoot
- ones that you shoot down and then ram


space and planetoid II
- background tunnel tiles
  - maintain dist-from-wall grid
  - maintain secondary dist-from-space grid
  - draw based

main menu
- shows existing joined player slots, with good default player
- "players & controls"
- instructions
- "play!" if there's at least one player

player add/drop menu
- possible players are represented as slots
  - 3 keyboard/mouse slots
  - 4 touchscreen slots
- show list of existing controls
  - pause key (editable?? not yet)
  - 3 keyboard/mouse slots
    - one slot at a time in a list
    - actions
      - name
      - description
      - trigger: key or mouse button
    - movement
      - 4 keys (wasd, ijkl, arrows, etc)
        - names for arrow keys
      - or mouse
    - edit button (placeholder for now)
  - 4 touch pad slots, each with own minimap
    - buttons
      - in arc in corner of quadrant
      - marked with symbols
    - movement zone
      - rect overlap resolution:
        - home quadrant always wins
        - In unowned quadrant, short-sided region wins.
        - In square screen (??) neither gets it. Just don't explode. This Should Never Happen.
  - every slot has clear joined/dropped state and a join drop button
  - unusable types are greyed out and below usable ones?

That fixes some problems:
* What keys do I press?
* Which one is tractor beam?
* How do I get rid of player 2?
* How do I _add_ player 2?

Editable controls
- individual keyboard/mouse slot editor
  - list of all controls in slot
    - action buttons
    - movement type selector
      - mouse
      - keyboard
        - movement keys
  - click trigger to open for edit
      - accept keypress or mouse button
        - if already taken by other slot, still OK to steal it. Allow cross-player-slot conflicts, but highlight them.
        - if key already taken by *this* slot, delete prev key use.
  - "back to menu" button
- touchscreen slots all shown/editable at once, WYSIWYG
  - starts paused
    - symbols are explained here
    - "edit" button
    - "back" button
  - pause button is always visible when unpaused
  - home quadrant cannot change. There are 4 and that's that.
  - player action buttons
    - in arc in corner of quadrant
    - marked with symbols
    - allow dragging within quadrant
    - show symbol meaning nearby
  - movement rect starts in corner of quadrant, and extends in extends in X OR Y direction
    - let player switch axis by touching curved arrow in the elbow
  - constant preview of movement zones
- auto save/load prefs
  - LocalStorage s27n
